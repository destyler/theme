---
import TableOfContentsList from '../components/TableOfContents/TableOfContentsList.astro'

const { toc } = Astro.locals.starlightRoute
---

{
  toc && (
    <starlight-toc data-min-h={toc.minHeadingLevel} data-max-h={toc.maxHeadingLevel}>
      <nav aria-labelledby="starlight__on-this-page">
        <p id="starlight__on-this-page">Table of Contents</p>
        <TableOfContentsList toc={toc.items} />
      </nav>
      <slot />
    </starlight-toc>
  )
}

<script src="../components/TableOfContents/starlight-toc"></script>

<style>
  starlight-toc {
    overflow: auto;
    height: 100%;
    padding-bottom: 2.5rem;
    scrollbar-width: none;
  }
  p {
    font-weight: 500;
  }
</style>
